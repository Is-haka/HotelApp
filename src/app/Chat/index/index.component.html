<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HOTEL Chat App</title>
  <style>

    .form-floating {
  position: relative;
}

.form-floating > .form-control,
.form-floating > .form-control-plaintext {
  /* padding: 1rem 0.75rem; */
}

.form-floating > label {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
  border: 1px solid transparent;
  transform-origin: 0 0;
  transition: opacity 0.1s ease-in-out, transform 0.1s ease-in-out;
}

.form-floating > .form-control:focus,
.form-floating > .form-control:not(:placeholder-shown) {
  padding-top: 1.625rem;
  padding-bottom: 0.625rem;
}

.form-floating > .form-control:focus ~ label,
.form-floating > .form-control:not(:placeholder-shown) ~ label {
  opacity: 0.65;
  transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
}

.form-control {
  border: none;
  border-bottom: 1px solid #ced4da;
  border-radius: 0;
  box-shadow: none;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.form-control:focus {
  border-color: #0b5ed7;
  outline: 0;
  box-shadow: 0 2px 0 0 #0b5ed7;
}

textarea.form-control {
  min-height: 80px;
  resize: none;
}

    /* Customize scrollbar for WebKit-based browsers */
    textarea.form-control::-webkit-scrollbar {
      width: 5px; /* Width of the scrollbar */
    }

    textarea.form-control::-webkit-scrollbar-track {
      background: #f1f1f1; /* Background of the track */
      border-radius: 10px; /* Rounded corners for the track */
    }

    textarea.form-control::-webkit-scrollbar-thumb {
      background: #0b5ed7; /* Color of the scrollbar thumb */
      border-radius: 10px; /* Rounded corners for the thumb */
    }

    textarea.form-control::-webkit-scrollbar-thumb:hover {
      background: #0049b8; /* Color of the thumb on hover */
      cursor: pointer;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">Hotel Chatting System</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="container">
          <div class="card-body">
            <h2 class="card-title text-center mb-4">Welcome to Hotel Chatting System</h2>

            <div class="chat-container">
              <div class="message d-flex position-relative justify-content-start" *ngFor="let message of messages">
                <div class="message-content rounded p-2 mb-2" [ngClass]="{'bg-light': message.sender === 'bot', 'bg-primary text-white': message.sender === 'user'}">
                  <small class="d-block text-start">{{ message.text }}</small>
                </div>
              </div>

              <!-- Display options initially -->
              <div *ngIf="currentStep === 0 && !userChoice" class="row g-3">
                <div class="col-md-6">
                  <div class="card h-100 cursor-pointer hover-shadow" (click)="chooseOption('Booking')">
                    <div class="card-body text-center d-flex flex-column justify-content-center">
                      <h5 class="card-title">Booking</h5>
                      <p class="card-text">Start booking a room</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card h-100 cursor-pointer hover-shadow" (click)="chooseOption('Complaints/Inquiry')">
                    <div class="card-body text-center d-flex flex-column justify-content-center">
                      <h5 class="card-title">Complaints/Inquiry</h5>
                      <p class="card-text">Submit a complaint or inquiry</p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Booking process -->
              <div *ngIf="userChoice === 'Booking'" class="mt-4">
                <div *ngIf="currentStep === 1" class="mb-3">
                  <input type="text" class="form-control form-control-sm form-control-sm" placeholder="Enter Region" [(ngModel)]="region" (keyup.enter)="nextStep()" />
                </div>
                <div *ngIf="currentStep === 2" class="mb-3">
                  <label for="checkInDate" class="form-label">Check-in Date</label>
                  <input type="date" class="form-control form-control-sm" placeholder="Enter Check-in date" [(ngModel)]="checkInDate" (keyup.enter)="nextStep()" />
                </div>
                <div *ngIf="currentStep === 3" class="mb-3">
                  <label for="checkOutDate" class="form-label">Check-out Date</label>
                  <input type="date" class="form-control form-control-sm" placeholder="Enter check-out date" [(ngModel)]="checkOutDate" (keyup.enter)="nextStep()" />
                </div>
                <div *ngIf="currentStep === 4" class="d-grid">
                  <button class="btn btn-primary" (click)="nextStep()">Book Room</button>
                </div>
              </div>

              <!-- Complaints/Inquiry process -->
              <div *ngIf="userChoice === 'Complaints/Inquiry'" class="mt-4">
                <div *ngIf="currentStep === 5" class="mb-3 text-start">
                  <span class="badge badge-sm bg-light text-dark">Click 'Yes' for inquiry or 'No' for complaints about a booking</span>
                  <div class="d-flex position-relative justify-content-start">
                    <button (click)="handleYesNo('Yes')" class="btn btn-sm btn-primary m-2">Yes</button>
                    <button (click)="handleYesNo('No')" class="btn btn-sm btn-outline-secondary rounded-circle m-2">No</button>
                  </div>
                </div>
                <div *ngIf="currentStep === 6 && isInquiry" class="mb-3 form-floating">
                  <textarea class="form-control" id="inquiryTextarea" placeholder=" " [(ngModel)]="inquiryText" (keyup.enter)="nextStep()"></textarea>
                  <label for="inquiryTextarea">Enter your inquiry</label>
                </div>
                <div *ngIf="currentStep === 6 && !isInquiry" class="mb-3 form-floating">
                  <input type="text" class="form-control" id="bookingNumberInput" placeholder=" " [(ngModel)]="bookingNumber" (keyup.enter)="nextStep()">
                  <label for="bookingNumberInput">Enter your booking number</label>
                </div>

                <div *ngIf="currentStep === 7" class="mb-3 text-start">
                  <span class="badge badge-sm bg-light text-dark">Click 'Yes' if you have more details or 'No' to submit your complaint</span>
                  <div class="d-flex position-relative justify-content-start">
                    <button (click)="yesNo('Yes')" class="btn btn-sm btn-primary m-2">Yes</button>
                    <button (click)="yesNo('No')" class="btn btn-sm btn-outline-secondary rounded-circle m-2">No</button>
                  </div>
                </div>
                <div *ngIf="currentStep === 8" class="mb-3 form-floating">
                  <textarea class="form-control" id="additionalDetailsTextarea" placeholder=" " [(ngModel)]="additionalDetails" (keyup.enter)="nextStep()"></textarea>
                  <label for="additionalDetailsTextarea">Enter additional details</label>
                </div>
                <div *ngIf="currentStep === 8" class="d-grid">
                  <button class="btn btn-primary" (click)="nextStep()">Submit</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
